@use "../utils/functions" as *;
@use "../utils/mixins" as *;

.stages {
  &__list {
    margin-bottom: clamp(1.5rem, vw(50), 3.12rem);
    counter-reset: li;
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(335px, 1fr));
    gap: rem(45);
    padding-left: 60px;
  }

  &__item {
    @include flex;
    flex-direction: column;
    gap: rem(20);
    position: relative;
    height: 100%;
    padding: clamp(2rem, vw(70), 4.38rem) clamp(2rem, vw(78), 4.88rem)
      clamp(1rem, vw(30), 1.88rem);

      // подумати над адапитвом - верх не змінювати

    // padding: 4.38rem clamp(2rem, vw(78), 4.88rem) clamp(1rem, vw(30), 1.88rem)
    //   4.88rem;
    font-size: rem(15);
    line-height: 1.5;
    border-radius: var(--radius-big);
    background-color: var(--color-brown);

    &::before {
      top: rem(-72);
      counter-increment: li;
      content: counter(li, decimal-leading-zero);
      position: absolute;
      font-weight: var(--fw-700);
      font-size: clamp(5rem, 4.5375rem + 2.3125vw, 7.3125rem);
      line-height: 1;
      background-image: linear-gradient(
        180deg,
        #fff 60%,
        rgb(144, 127, 83) 50%
      );
      -webkit-text-stroke-width: 0.006em;
      -webkit-text-stroke-color: inherit;
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      z-index: 5;
    }

    &::after {
      content: '';
      position: absolute;
      left: rem(-80);
      @include flex-all-center;
      top: 50%;
      transform: translateY(-50%);

      width: clamp(3.5rem, vw(120), 7.5rem);
      //  height: rem(120);
      aspect-ratio: 1/1;
      border-radius: var(--radius-round);
      border: 8px solid var(--color-brown);
      background-color: var(--color-white);
      background-repeat: no-repeat;
      background-size: clamp(2rem, vw(50), 3.125rem);
      background-position: center;
    }

    &--ds {
      &::after {
        background-image: url('../images/icons/design.svg');
      }
    }

    &--cd {
      &::after {
        background-image: url('../images/icons/css.svg');
      }
    }

    &--ts {
      &::after {
        background-image: url('../images/icons/testing.svg');
      }
    }

    &--sol {
      &::after {
        background-image: url('../images/icons/money.svg');
      }
    }

    h3 {
      font-weight: var(--fw-700);
      font-size: rem(30);
      line-height: 1.5;
    }

    p {
      font-size: rem(15);
      max-width: 100%;
    }

    span:not([class]) {
      margin-top: auto;
    }
  }
}